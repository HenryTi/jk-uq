{
	"--1": "说明：order可以在主表加其它字段，来分解成note。",
	"$": "百灵威系统工程部/jk-order",
	"order": [
		"-- this is comments. starts with #. order pushed when comfirmed or paid",
		"id: id",
		"customer: id",
		"no: string",
		"currency: id",
		"detail: order-detail -- { name: detail, type: array, fields: order-detail }"
	],
	"order-detail": [
		"id: id",
		{ "name": "item", "type": "id", "-": "if item is ID, the item is pack ID, include product ID, else item is pack, product must have value" },
		{ "name": "product", "type": "id", "-": "my be undefined when item is ID" },
		{ "name": "quantity", "type": "number" },
		{ "name": "price", "type": "number" },
		{ "name": "amount", "type": "number" }
	],
	"return-detail": [
		"-- return detail id",
		"id: id",
		"-- 对应的 order detail id",
		"orderdetail: id",
		"quantity: number",
		"amount: number",
		"-- price不需要, 在order detail id 里面可以获得"
	],
	"note": [
		"id: id",
		"detail: note-detail"
	],
	"note-detail": [
		"id: id",
		"orderdetail: id",
		"value: number"
	],
	"deliver-detail": [
		"id: id  -- order detail id",
		"quantity: number  -- 同一个合同明细可能会分多次不同数量发送",
		"warehouse: id"
	],
	"deliver": [
		"-- 通用些的发运字段，一般不会变化",
		"id: id  -- order id",
		"contact: id -- 发货地址id。",
		"detail: deliver-detail"
	],
	"deliver-detail-ext": [
		"-- ext是对deliver的扩展，都是具体业务相关内容。变化可能性比较大",
		"id: id  -- order detail id",
		"needInsuredWhenDelivery: number    -- 发货时候是否保价, 需要则1",
		"showPrice: number                  -- 单据上是否显示价格, 需要则1",
		"lotNumber: string                  -- 指定Lot批次",
		"json: string                       -- 只需要在界面展示的信息以json格式存储"
	],
	"deliver-ext": [
		"-- 这个bus消息必须在deliver消息之前发。是附加消息，可能根据业务的形态发生变化",
		"id: id  -- order id",
		"detail: deliver-detail-ext"
	],
	"deliver-done": [
		"note",
		"warehouse: id"
	],
	"pickup-done": [
		"detail: note-detail"
	],
	"receive": [
		"note"
	],
	"receive-done": [
		"note"
	],
	"invoice": [
		"note"
	],
	"invoice-done": [
		"note"
	],
	"return": [
		"-- 下发退货指令", 
		"id: id",
		"-- order-id: id -- ?? 可以没有 应该是直接没有",
		"detail: return-detail"
	],
	"receive-return": [
		"note"
	],
	"invoice-return": [
		"note"
	],
	"return-accept-done": [
		"-- 退货接收",
		"note"
	],
	"-- receive-return-done": [
		"-- receive-done 出现负值，就是return receive",
		"note"
	],
	"-- invoice-return-done": [
		"-- invoice-done 出现负值，就是return invoice",
		"note"
	],
	"order-cost-price-detail": [
		"order-detail: id",
		"cost-price: number"
	],
	"order-cost-price": [
		"order: id",
		"detail: order-cost-price-detail"
	],
	"order-binding": [
		"-- order id, binding可以是coupon，也可以是userid，或者其它标志。如果网页点击，可以直接带id",
		"order: id",
		"binding: string"
	],
	"order-bound-detail":[
		"id: id  -- 指定类型的id"
	],
	"order-bound": [
		"-- order id, coupon体系根据coupon，找到order的绑定人",
		"order: id",
		"-- promoter: id  -- 推销人，销售，或者外部人员", 
		"to: order-bound-detail -- id is sales id or agent id"
	],
	"order-bound-staff-sales": [
		"order: id",
		"to: order-bound-detail -- id is sales id or agent id"
	],
	"order-bound-agent": [
		"order: id",
		"to: order-bound-detail -- id is sales id or agent id"
	],
	"order-bound-distributor": [
		"order: id",
		"to: order-bound-detail -- id is sales id or agent id"
	],
	"order-bound-customer": [
		"order: id",
		"to: order-bound-detail -- id is sales id or agent id"
	]
}